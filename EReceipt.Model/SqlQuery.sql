CREATE TABLE [dbo].[Companies] (
    [Id] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](max),
    [Address] [nvarchar](max),
    [Phone] [nvarchar](max),
    [Token] [uniqueidentifier] NOT NULL,
    [aspnet_UsersUserId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Companies] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Invoices] (
    [Id] [uniqueidentifier] NOT NULL,
    [Name] [nvarchar](max),
    [Description] [nvarchar](max),
    [Amount] [float] NOT NULL,
    [Date] [datetime] NOT NULL,
    [CompanyId] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.Invoices] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Profiles] (
    [UserId] [uniqueidentifier] NOT NULL,
    [Firstname] [nvarchar](max),
    [Middlename] [nvarchar](max),
    [Lastname] [nvarchar](max),
    [Email] [nvarchar](max),
    [Phone] [nvarchar](max),
    [Image] [nvarchar](max),
    CONSTRAINT [PK_dbo.Profiles] PRIMARY KEY ([UserId])
)
CREATE INDEX [IX_aspnet_UsersUserId] ON [dbo].[Companies]([aspnet_UsersUserId])
CREATE INDEX [IX_CompanyId] ON [dbo].[Invoices]([CompanyId])
CREATE INDEX [IX_UserId] ON [dbo].[Profiles]([UserId])
ALTER TABLE [dbo].[Companies] ADD CONSTRAINT [FK_dbo.Companies_dbo.aspnet_Users_aspnet_UsersUserId] FOREIGN KEY ([aspnet_UsersUserId]) REFERENCES [dbo].[aspnet_Users] ([UserId]) ON DELETE CASCADE
ALTER TABLE [dbo].[Invoices] ADD CONSTRAINT [FK_dbo.Invoices_dbo.Companies_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [dbo].[Companies] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Profiles] ADD CONSTRAINT [FK_dbo.Profiles_dbo.aspnet_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[aspnet_Users] ([UserId])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201703010339298_AutomaticMigration', N'EReceipt.Model.Migrations.Configuration',  0x1F8B0800000000000400ED5D5B6FE4B6157E2FD0FF20CC535B6C3CB6F3921AE304CED80E06B5D7AE6777D3378396E8B1B012359128AF8DA0BFAC0FFD49FD0BA56E14AF1A5294345E6C102418F3F29D43EAF09CC3CB39F9DF7FFEBBF8E9258EBC67986661824E67470787330F223F0942B4399DE5F8F1BB1F663FFDF8E73F2D2E82F8C5FBD4B4FBBE68477AA2EC74F684F1F6643ECFFC271883EC200EFD34C992477CE027F11C04C9FCF8F0F0EFF3A3A33924103382E5798BBB1CE13086E51FE4CF65827CB8C53988AE930046595D4E6AD625AAF71EC430DB021F9ECE2EEEA00FC32D3E289BCEBCB32804848B358C1E671E4028C100131E4F3E66708DD3046DD65B5200A20FAF5B48DA3D82288335EF276D73D3611C1E17C398B71D1B283FCF70125B021E7D5FCFCB5CECDE6B766774DEC8CC5D9019C6AFC5A8CBD93B9D816C8B20BEBF86F103F98C4FE176E689544F96515AF41067F940EAFBCEE35BBCA3B24144A8F8E79DB7CC239CA7F014C11CA780B4B8CD1FA2D0FF077CFD907C86E814E551C4724C7826755C0129BA4D932D4CF1EB1D7CACC7413E6CBA0A66DE9CEF3B173BD3AE42BF6A80BFE421F9FD9EF0001E2248E562DE0971B6DD92119453E588740BB2EC4B92521022AA64C5CDBC6BF07205D1063F9DCEC8CF997719BEC0A029A9913FA2902C50D209A7B931A1CB248D016EC8AD10FEFEB837D36B10E1D119BF4E1EC208DEAEDE8F4EE9220661343A95ABE40B4C61300DB1E64BFD338759A54E262278863232CCD1C9AD32B214D3E419D205F473924410206B995E655789FF1906373976855AA61060784EFE6D908ADF1F889DB386BA0219BE4A36211A0CADF940CB2780363018904BFF7392E341F02EC9D2800115258C61BCC5CB84F80A6E7A4B89FB6B8882E4CB1A83140FCD78B90646639F451F7210CB248E211A41B1BF07CFE1A6349A02C5DAAB280C7336F3EE6054362ADC8BCA9F3B601BDC2BFC97CB3489EF924880925BDE7F00E90616434B8C9AAF933CF585812CE6AD4765E267D5A3B275B1CA6E7F78576E480533C5AFA98CFA64F42AA7A8DCF24C616351825EE324CF5C2D636128CE7C1C3E9395D2CF52ECD221AC56185391349AC15091347AC7743444076F010AA1813A649A6AB8A72DBAB96E9BD9724BFE7C24E2B89B57DA50C3695DDFCD67D348C5A5B172AE06FB6AA197EB1E7B54C97DD4B1A3029D44999D05410AB3F115D9ED5382C61F4DF98D9D269D95F63EE674203FCB46B174FA55B2FE316578859E93D0D768C17A41DEB78D5A36C53A49A3480D9CB4498D62A14DEA1E7F6893C1D7DF39CCFC944CE814A71D6731BBAB3B4FC897B1DF6F0DB265AEE579305541EDA3EBC21335837665F65A78D4A1305E78758F6F73677519A61946936C50C22088E024A48A4DC52484263AB29DC44B59C560330295815C0FD37D42A7DB216E265C0E717E850F17CF10E1FBF2BF3D8E7304803DAA9F92813EFA8776D40ACDD1F10F464263A9B54AC28555FC887D674349C106422218E32B9E82D21AFE9643E4B77C433F8C01D147B729F9555FDB93F95FFBA01882FDF17249E5C6F7F3341D9FCE920CDEED34BC84398798E86477B06BB2FF1C4521EA8F366F017E9A92DEA7302D1E564C42F61AF84F218293F8FB77C5BAC8F0C7747CD37CF152BC4E217339C9AAAF647BE863119DE53BCBB2C40F4B4951986CC55929CFFB050A3CBB83D36A50A2E927E323762F2CA4963049348D344BC694A8732051624F7C79728707073245623B215189C5E3A125F15988350E11960D6D88FC700B22AB6910502CF60BC597A434C59A73B88528202C5BCD941B3394A6E056EC9ABDC59C11BD6E8994369E3AC9D01FFFB4B24077B8A2C08923BB41E73082187AC5CD4561FD9620F34120AF5FB2B202638E14D2494F91788EFE368C40EAE6C4E4AB3B8A9F6EF026A499838DBDC89CE648D44827292E5E4CB5DE2842B8EBF076E7E2184814BB27691F3A519A0C132654E7F4FB97D166EF6C2404D285DBC05659DAA8B7F8748F3F89051606BA0F1913E6E28D59DBCA2B247D88D38960DA78BCF52945FDC65A3AF5200CD6071F59ED6C8A6251A0AE21D6DFD2B7EEA8DE4993844D895A8BAA0EB0AEDE81C5DC7A4940542BEEC0680FC625086AE37740D4C2A282A00BC76C56A4A32BDDFC480D057C4670D453AF7A50C174327B82214ABAF5C6824E832817D222B2DE49C8D01D423AE7E7CB602EE57B1579F6BA5D60332798190623ED1DD3A3755E19A49669E779D0DD42EF90258D7366E39E39CB8EEC54994CB6EB1C518DB0638694AE81B973E03C3BA237C000B6FACE786A9A930C6AB368DD625E850BD5058BB926AE68710DB6DB106D9838A3BAC45B574146CBEFD6F61138718531F73345200EE59652C2490A3650A82DA42580E57DDD39C0E00114C73ACB20969AF1165A63111A5A3A232C7FBFC644343D8BDFBC4BA08B0852383635C8251967F1B2B81C32EC54A612865784808108A49A4BD16512E531EAF69AF428C28B53164CA832C76C237B58B8B6D41EA909DD51E13575F6A855108F0AB3AA31476422755838A6D81CABBE6B6571EA22730C3ED28685E26BECE7AC0DA751CD5B5B6B8FDCC4CDA8709B3A7354363C864564CB6DD09810191E8EA930C763E3645838B6DCE26BF3A132DCE7E6ABEC3095013322BAB2912DEF4C008DCC3D53698EDB1548C392E86AE7488D8B4CD949936BDD9BB222EEA683B2A2F520944D47AEED63B1929A901D6E19358532CE622E9864E97C41F200A45346DEB5B0713C2AAFD1DDE750E298BB1B9AEE5F9FA7D1469D88BC55A5D616530D2855DA7A0675B88AEC1BD4155676AD0D49110C5B5B61A77FF9B8145101F3B56F664575ED798D975373AC65BF92B43DB51F4E7444AC045D96495B41A4A106DCC26B0A2DDCB5EA911EE7A55545E61875A0008B51179963A8AE205840932B8ABD096FC71996B1EC36E7A9F6B2ABEDF95665977BD8CE027115166B21965DA3A6CC822B495DDA3AA9CC0DAFE0BEE82E7EF726B1F494CA41623587700612ABED39AECBC23C1AE7BCD8B6D8C211609E85737E00536E67B665ACB674DAE386216C42FD2C9B533355D19B59039ADB2277777E07A2B963BF13482B05CD0B674E0ED4EFA577E2D007CB1218ADE981A881B3C72A5F30CA5865B12556FB3259C26BAB2C31D977C8122A5B69895B3D159610AB624B2CF6F1B184C8565AE8C7E61D32A71C9BC25EDBCCEAC1AF66A35955F6C2E5DE136BE0B93616B3C03E1FE66682AD30C7639F08B3706CB9C5B7E75F01735F9EAFB2F1EDEAB7BEBC5F57174EACFBA58B35B109A54E2FD8848BB4457DA9B53B8B9F74CB553529A20D92E730286EB8D6AF1986F141D1E060FD5BB48CC2F254AB69704DF6BF8FE42B565131B3E3C3A3632119E0DB49CC37CFB220525C0A7666E7E33FDC842186390AC9FA088B5746E16358DC3C48EF7F5628802FA7B3DFCBFE27DEEA5FF715C43BEF2625DFE6C43BF4FE3D4CFE179919C74C7BE819A4FE1348FF128397BFB268FDB3E985855C0E904BCF8935295F9E131A17F3E884A4CA7B37C8371073DB0D02CAE7AF73829473D43D84F672A2C84FD70746CE4D1790DF78B0DC744E681DB9E91CB99472D3F5C6DB9D9BAE8F1630CD4C3714DBDACC740330BF232F5DEF210879E92CD664BF946D6FC8EEBE09032A26371BC21A0C8AA9488AE6AAB8C5C4677D54AE2EE999E142B04E69D5436EDD72C1384BD6601220649272F304D83C0C4E485C4628E7C9525DE938F8EB329C85EF6E9D20E91B964D455E223759E7720F3D4609B0574D83784452EAA15E724851C6103FE5CDC9B7B0959612FEB8195829A98F9B0F0006E46DC07DE5608A9F4BB233A2BFDA79E1316D56986694725E980192BEF4565152D217472426FD839BD0AA12BB0413257619870E9B8BA5CF665293D6A50F9490D4C5CDDAAA13B70C85A948CEE2A6A9E5042C4E7872921537B957255271F4AEB864290328DB5112A20C1961CDC61EEE3FC7C9C421D59DF1463684DF60DA923DA629A1E1C953A72599220D89FEADA04CEA2B4E3BB2EF2C2316523C423E91A9F4908DDC7EFD894206B15B0DC1BD6501994A36F44F3CF76A9984571D54D38971C6E2F71B248547F5AE83EC3A1E12220095333672A68F0E9236B9405EBB3281A868E8E3FC4502D4B44A04688D8A8036D782884F5797844F6B54F8B7BA607CCDE7E89F62A4E3137D4DE9489C7223C82BE92BCB30A2487221E5C8517B998A700CF7414E943EA4DF37B798B2B79915A4DFB00545C48533980FDB22E387FC0091184EE67F364C6C76166E5A88E27F3D8CA0CF994CDA66851E93C6720B1C354DA4A3270C02624FCF521C3E021F936AB294B23281EB2710E5E581F5030C56E826C7DB1C932193751E71325078005DF4CBB4263CCF8B9BF254251B620884CDB03826BD413FE7611450BE2F15F7301A88C2B5F80592F2EA5B124F05C3CD2B457A2F0547E880EAE9A31ED107186F230296DDA03578867D7823327B0537C07F6DDE91EA41767F087EDA17E721D8A420CE6A8CB63FF993C87010BFFCF87FA0DC4FB9737B0000 , N'6.1.3-40302')

